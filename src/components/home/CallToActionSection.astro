---
import { Icon } from 'astro-icon/components';

import type { SimpleCallToAction } from '../../types';
import { cn } from '../../utils/cn';

const { block } = Astro.props as { block: SimpleCallToAction };
---

<section id={block.id} class="relative overflow-hidden bg-primary text-white">
  <div class="absolute inset-0 opacity-20">
    <svg class="h-full w-full" viewBox="0 0 400 400" fill="none">
      <defs>
        <pattern id="dots" x="0" y="0" width="24" height="24" patternUnits="userSpaceOnUse">
          <circle cx="2" cy="2" r="2" fill="white"></circle>
        </pattern>
      </defs>
      <rect width="400" height="400" fill="url(#dots)"></rect>
    </svg>
  </div>

  <div class="relative mx-auto flex max-w-screen-xl flex-col items-center gap-8 px-4 py-20 text-center sm:px-6 lg:px-8">
    <Icon name="tabler:calendar" class="h-12 w-12 text-white" />
    <h2 class="font-heading text-3xl font-bold sm:text-4xl">{block.title}</h2>
    <p class="max-w-2xl text-base text-white/90">{block.subtitle}</p>
    <a
      href={block.cta.href}
      class={cn(
        'inline-flex items-center gap-2 rounded-full bg-white px-6 py-3 text-sm font-semibold text-primary shadow-lg shadow-slate-800/30 transition hover:opacity-90',
        block.cta.class
      )}
      target={block.cta.target}
      rel="noopener"
    >
      <Icon name={block.cta.icon ?? 'tabler:calendar'} class="h-5 w-5" />
      <span>{block.cta.label}</span>
    </a>
  </div>
</section>
